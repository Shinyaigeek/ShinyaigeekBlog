### はじめに
めっちゃ久しぶりです、しにゃいです
前回の投稿から３ヶ月経っちゃいましたね
色々忙しくて全然ブログ書いてなかったんですけどその辺いついてはあとで気が向いたら描こうかなと

今回のテーマはこのブログをVue.jsを使ってリライトしようかなってやつです。
現状のブログはHTMLで地打ちしてますね
なんでこんなことするかっていうとただ単にVueあたりの経験欲しいなってのとデザイン修正したいなって思ったからです
一応断っておきますけどこれは多分連載していく感じですし、体系的な知識を語るというよりも勉強しながら書いていくという感じですので多分ミスなり非効率的なやり方もあります。ご了承ください(多分あとでまとまて記事にします)

俺自身も苦しみながら書いてるので初歩的な過ちとかはいっぱいあるだろうけど許してほしい。
一応練習で作ってるのでCMSは使わない方針で頑張る
### 仕様設定
開発するときに一番大事というかちゃんとしないといけないフェーズ、仕様設定です。これミスるとめっちゃめんどくさいっすよねマジで


* ホーム画面があって、記事がズラーっと表示されている

* 記事ごとにタグがあって、そのタグからそのタグが使われている記事一覧表示もできる

* もうちょっとちゃんとしたコメントボックス

* シェア機能

* お手製スタイルシート

* git hub上でマークダウンで記事書く、それをPRしマージすれば反映される

* 目標としてはこんな感じですかね、多分ホーム画面作ったくらいでブログそのものは移行します。

### セットアップ
今回はVue.jsを使います。
でその前に色々と立ち上げなきゃいけないですね。
Vue CLI3を使ってパパッと構築しちゃいましょう。
ちなみにVue cliってのはVue.jsのためのコマンドツールで、簡単なviewくらいならささっと作ってくれますし、アプリのプロジェクトを構築してくれたりもする。めっちゃ便利ですね。
ひとまずターミナルにて
~~~Console
npm i -g @vue/cli
~~~
を実行しちゃいましょう。
ここでいうiはinstall、-gは最新のって意味です。npmってのはnodeに付属するパッケージマネージャーです。パッケージの管理や実行を扱ってくれます。
そのあと
~~~Console
npmi -g @vue/cli-service-global
~~~
を実行、これでvue cliは準備できました。
下にbootstrapl-vueの公式ドキュメントも貼っておきます(一応)が一通りの流れはこのブログ場でも解説しちゃおうかなと思います
[Vue.js](https://vuejs.org/) そのあと
~~~console
npx @vue/cli create {プロジェクト名}
~~~
で実行、プロジェクト名の中にはブログの名前でもぶち込んどけばいいと思うよ
これでcliが動いていい感じにセットアップしてくれます。
ただ一つ注意して欲しいんだけどこれ実行したとき 
<img src="/static/1102.png" />
って聞かれえるけん画像みたいな感じでmanually selectのところでEnter、そうすると
<img src="/static/1103.png" />
上みたいな画面になるからrouterってなってるとこでスペースキーを押してからエンター、あとは適当でいい
これは何したかっていうとルーティング設定ってやつもアプリケーションに取り込むよう設定してて、これをすることでurl遷移が可能になるって訳
そのあとは
~~~Console
cd プロジェクト名 npm run serve
~~~
上の二つのコードを実行して、ブラウザからlocalhost:8080にアクセスすれば下みたいな感じの画面が出てくる、これでとりあえずのセットアップ完了
<img src="/static/1101.png" /> 
で上にあるaboutってやつクリックしてみ、リンク変わるじゃないですか。
勘のいい人はやけにページ遷移が高速だぞって思うかもしれないですけど、これはシングルページアプリケーションってやつでして要するに一気にページを読み込んじゃえば軽いみたいなノリです
グラブルとかで使われている技術ですね。 でもあれじゃないですか、じゃあこれをアップロードすれば動くんかってなるじゃないですか
もちろんそうじゃなくbuildという工程を挟む必要があります。
npm run build
を実行しましょう、そうするとdistというディレクトリが生成されます、それがアップロードするやつです。
### 記事を表示させよう
こうなると次は記事を表示させる段階に行きますね。
ひとまず生成されたsrcディレクトリの中に記事を叩き込むためのcontentsフォルダを作成してぶち込もう。
<img src="/static/1104.png" />
でこんな感じでsrcのなかのrouter.jsに追記してrouterで指定したpathを開く
<img src="/static/1105.png" />
よっしゃーナイス！

でもrouterのpathを
~~~javascript
path: '/:itemNumber'
~~~
とかにして変数組み込んでコード書くの楽にしたいやん？でもまだその時じゃないかなって
これについては一応実装できたけどダメな部分ってのもいっぱいあって、その辺についてもちゃんと書こうと思う
いい感じにルーティングしたい
contentsフォルダの中に各記事をしまったじゃないですか、とりあえず僕の場合は1.vue~11.vueまで記事をぶち込んで、さらにindex.jsファイルをcotentsフォルダに作成しました

これでvueファイルを前もってexportしとけば前述したSPAがどうたらって問題も解決される気はします。
でvueファイルには

って感じでexportさせておく
この際従来の&lt;template&gt;構文を使うのではなく、(この場合vueファイルをコンポーネントとして読み込んでいるわけではないので、多分)、その記事本文についてはバッククオート(shift + @で出せる)で改行されている文字列をtempに代入しtemplateとして出力させている。
あとタグの情報や名前、デスクリプションも欲しいのでその辺の情報もinfoとして出力させる。
でrouter.jsには
getContent() { const dataId = parseInt(this.$route.params.num, 10) - 1; return list[dataId] }
このメソッドを追記して、templateのなかにv-html=getContent.templateと指定すればその記事が読まれるようになる。
ただこれ結構おっきい問題をはらんでいて、ここでgetContentは記事コンポーネントを読み込んでいるわけではない。
そもそもexportしているのがvueインスタンスでもなんでもないからそれはそう。
だからこのtemplateはtemplateに見せかけたただの文字列だから、v-forなどは記事の中で使えない。
し何よりvueの魅力である双方向バインディングもへったくれも無くなるけど、まあ記事の表示に関しては関係ないかなとこれで妥協した。
でもやっぱ色々とめんどくさいことも多いのでできればちゃんとコンポーネントとして出力させたいけどそこまでの技術力はまだなかった()
### ホーム画面を作ろう
正直ここまでは母国語を持つ人なら誰でも到達できる、むしろこれができなきゃ刺身にたんぽぽ乗せる仕事すら危うい
で肝心のホーム画面だけど、大雑把な設計はそれぞれ記事vueファイルが出力してるinfoの中からデータを引っこ抜いて一覧表示させる感じで行こうかなって思う。
とりあえずホーム画面を書いてるviews/Home.vueのなかをこんな感じで書き換えよう。

BlogHomeというユーザー定義関数には、一ページあたりに表示する記事インデックスの長さを渡せばその分だけ記事infoのデータをもってきて、レンダリングできる形式で返してくれるというものだ
でこの状態でhomeを覗くと

ブログの情報の一覧が表示されてこれでオッケー
もちろんこの後もタグ情報を纏めたりCSSを整えたりコンポーネントもっと足したりやることはあるけどとりあえずは一回ここで区切ろうと思う
多分明日もコード書いてるしすぐ終わるかなって